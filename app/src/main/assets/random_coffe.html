<html>

<head>
    <link rel="stylesheet" href="./bootstrap.min.css">
</head>


<body>
    <div class="container">

        <figure class="figure">
            <img id="imagem" class="img-thumbnail figure-img img-fluid rounded" src="./coffe.png" />
            <figcaption class="coffe figure-caption text-right"></figcaption>
        </figure>

        <button id="btn" class="btn btn-primary" onclick="sortear()"> Quem? </button>
    </div>


</body>

<script>
    /* Código Sujo By: Nicolas ;) */
    /* Código Limpo By: Gustavo ;) */

    let time = 0,
        membros = ["paulo", "joao", "silvan", "aleatorio", "nicolas", "jean", "rafa"],
        frases = ["SIS CARA É FODA MANO", "JÁ TAO ME PREJUDICANDO", "SILVAAAAN VIADO", "PODE SER O SILVAN", "NEM SOU GENTE", "...","NEXT"];
    var img = document.getElementById('imagem');

    function sortear() {
        ocultaBotao();
        geraImagensAleatorias();
        paraSorteioAposOTempo(6000);
    }

    function ocultaBotao() {
        document.querySelector('#btn').style.display = 'none';
    }

    function exibeBotao() {
        document.querySelector('#btn').style.display = 'block';
    }

    function geraImagensAleatorias() {
        time = setInterval(function() {

            var n = Math.floor(Math.random() * 7);

            if (n == 7 || n == 6)
                img.src = membros[n] + ".jpg";
            else
                img.src = membros[n] + ".webp";

                document.querySelector('.coffe').textContent = frases[n];
        }, 100);
    }

    function paraSorteioAposOTempo(timer) {
        setTimeout(function() {
            
            clearInterval(time);
            //var recebeFrase = document.querySelector('.coffe').textContent;
            showToast("Sem choro por favor!!");
            exibeBotao();
            
        }, timer);
    }
    
    function showToast(mensagem){
        android.toast(mensagem);
    }
    
</script>

<style>
    html,
    body {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
    }

    .container {
        height: 100%;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center
    }

    #imagem {
        position: relative;
        cursor: pointer;
        width: 300px;
    }

    #btn {
        bottom: 29px;
        position: absolute;
    }

    .coffe {
        font-weight: bold;
        text-decoration: uppercase;
        text-align: center;
    }

</style>

</html>
